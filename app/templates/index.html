{% extends "base.html" %}
{%block title%}{%endblock%}
{%block main_content%}

<div id="masthead">
    <h1>Descramble</h1>
</div>
<div id="mastbody">
    <div id="container">
        <textarea id="input" class="form-input" tabIndex=1></textarea>
    </div>
    <div>
        <button id="solve-button" tabIndex=2>SOLVE</button>
    </div>
    <div id="output" class="output-text" tabIndex=3></div>
</div>

<script>
$('#solve-button').click(
    function(evt)
    {
        $('#output').empty();
        $.when( $.ajax({ type: "POST", url: "/solve", dataType: "text",
            data: {"letters":$("#input").val()},
        }) ).then(
            function(result)
            {
                var wordInfos = JSON.parse(result);
                for( var i = 0; i < wordInfos.length; ++i )
                {
                    $("#output").append(
                        $("<div>")
                            .addClass("output-text")
                            .text(wordInfos[i].word)
                    )
                }
            }
        );
    }
)
</script>

{%endblock%}
